{"primaryContentSections":[{"declarations":[{"languages":["swift"],"tokens":[{"text":"@","kind":"attribute"},{"text":"MainActor","preciseIdentifier":"s:ScM","kind":"attribute"},{"text":" ","kind":"text"},{"text":"init","kind":"keyword"},{"text":"(","kind":"text"},{"text":"baseURL","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"String","preciseIdentifier":"s:SS","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"text":"httpClient","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"URLSession","preciseIdentifier":"c:objc(cs)NSURLSession","kind":"typeIdentifier"},{"text":" = .shared, ","kind":"text"},{"text":"cacheEngine","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"LocalDirectusCacheProtocol","preciseIdentifier":"s:11DirectusAPI05LocalA13CacheProtocolP","identifier":"doc:\/\/directusapi.DirectusAPI\/documentation\/DirectusAPI\/LocalDirectusCacheProtocol","kind":"typeIdentifier"},{"text":"? = nil, ","kind":"text"},{"text":"directusAPI","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"DirectusAPIProtocol","preciseIdentifier":"s:11DirectusAPI0A11APIProtocolP","identifier":"doc:\/\/directusapi.DirectusAPI\/documentation\/DirectusAPI\/DirectusAPIProtocol","kind":"typeIdentifier"},{"text":"? = nil, ","kind":"text"},{"text":"saveRefreshTokenCallback","kind":"externalParam"},{"text":": ((","kind":"text"},{"preciseIdentifier":"s:SS","text":"String","kind":"typeIdentifier"},{"text":") ","kind":"text"},{"text":"async","kind":"keyword"},{"text":" -> ","kind":"text"},{"preciseIdentifier":"s:s4Voida","text":"Void","kind":"typeIdentifier"},{"text":")? = nil, ","kind":"text"},{"text":"loadRefreshTokenCallback","kind":"externalParam"},{"text":": (() ","kind":"text"},{"text":"async","kind":"keyword"},{"text":" -> ","kind":"text"},{"preciseIdentifier":"s:SS","text":"String","kind":"typeIdentifier"},{"text":"?)? = nil)","kind":"text"}],"platforms":["iOS"]}],"kind":"declarations"}],"sections":[],"kind":"symbol","schemaVersion":{"patch":0,"major":0,"minor":3},"variants":[{"paths":["\/documentation\/directusapi\/directusapimanager\/init(baseurl:httpclient:cacheengine:directusapi:saverefreshtokencallback:loadrefreshtokencallback:)"],"traits":[{"interfaceLanguage":"swift"}]}],"identifier":{"url":"doc:\/\/directusapi.DirectusAPI\/documentation\/DirectusAPI\/DirectusApiManager\/init(baseURL:httpClient:cacheEngine:directusAPI:saveRefreshTokenCallback:loadRefreshTokenCallback:)","interfaceLanguage":"swift"},"hierarchy":{"paths":[["doc:\/\/directusapi.DirectusAPI\/documentation\/DirectusAPI","doc:\/\/directusapi.DirectusAPI\/documentation\/DirectusAPI\/DirectusApiManager"]]},"abstract":[{"type":"text","text":"Creates a new DirectusApiManager instance."},{"type":"text","text":" "},{"type":"text","text":"[baseURL] : The base URL of the Directus instance"},{"type":"text","text":" "},{"type":"text","text":"[httpClient] : The URLSession to use. If not provided, a new [URLSession] will be created."},{"type":"text","text":" "},{"type":"text","text":"[saveRefreshTokenCallback] : A function that will be called when a new refresh token is received from the server. The function should save the token for later use."},{"type":"text","text":" "},{"type":"text","text":"[loadRefreshTokenCallback] : A function that will be called when a new refresh token is needed to be sent to the server. The function should return the saved token."},{"type":"text","text":" "},{"type":"text","text":"[cacheEngine] : Fill the property to aumtomatically have a configurable local cache"},{"type":"text","text":" "},{"type":"text","text":"You can use the already provided [JsonCacheEngine] to have an already implemented cache."},{"type":"text","text":" "},{"text":"Or you can create your own engine by extending [LocalDirectusCacheProtocol] an providing an instance of your engine in this property","type":"text"}],"metadata":{"modules":[{"name":"DirectusAPI"}],"externalID":"s:11DirectusAPI0A10ApiManagerC7baseURL10httpClient11cacheEngine08directusB024saveRefreshTokenCallback04loadmnO0ACSS_So12NSURLSessionCAA05LocalA13CacheProtocol_pSgAA0A11APIProtocol_pSgySSYacSgSSSgyYacSgtcfc","title":"init(baseURL:httpClient:cacheEngine:directusAPI:saveRefreshTokenCallback:loadRefreshTokenCallback:)","fragments":[{"kind":"identifier","text":"init"},{"kind":"text","text":"("},{"kind":"externalParam","text":"baseURL"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":", "},{"kind":"externalParam","text":"httpClient"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"URLSession","preciseIdentifier":"c:objc(cs)NSURLSession"},{"kind":"text","text":", "},{"kind":"externalParam","text":"cacheEngine"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"LocalDirectusCacheProtocol","preciseIdentifier":"s:11DirectusAPI05LocalA13CacheProtocolP"},{"kind":"text","text":"?, "},{"kind":"externalParam","text":"directusAPI"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"DirectusAPIProtocol","preciseIdentifier":"s:11DirectusAPI0A11APIProtocolP"},{"kind":"text","text":"?, "},{"kind":"externalParam","text":"saveRefreshTokenCallback"},{"kind":"text","text":": (("},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":") "},{"kind":"keyword","text":"async"},{"kind":"text","text":" -> "},{"kind":"typeIdentifier","text":"Void","preciseIdentifier":"s:s4Voida"},{"kind":"text","text":")?, "},{"kind":"externalParam","text":"loadRefreshTokenCallback"},{"kind":"text","text":": (() "},{"kind":"keyword","text":"async"},{"kind":"text","text":" -> "},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":"?)?)"}],"roleHeading":"Initializer","role":"symbol","symbolKind":"init"},"references":{"doc://directusapi.DirectusAPI/documentation/DirectusAPI/DirectusApiManager/init(baseURL:httpClient:cacheEngine:directusAPI:saveRefreshTokenCallback:loadRefreshTokenCallback:)":{"title":"init(baseURL:httpClient:cacheEngine:directusAPI:saveRefreshTokenCallback:loadRefreshTokenCallback:)","kind":"symbol","type":"topic","url":"\/documentation\/directusapi\/directusapimanager\/init(baseurl:httpclient:cacheengine:directusapi:saverefreshtokencallback:loadrefreshtokencallback:)","identifier":"doc:\/\/directusapi.DirectusAPI\/documentation\/DirectusAPI\/DirectusApiManager\/init(baseURL:httpClient:cacheEngine:directusAPI:saveRefreshTokenCallback:loadRefreshTokenCallback:)","abstract":[{"type":"text","text":"Creates a new DirectusApiManager instance."},{"type":"text","text":" "},{"type":"text","text":"[baseURL] : The base URL of the Directus instance"},{"type":"text","text":" "},{"type":"text","text":"[httpClient] : The URLSession to use. If not provided, a new [URLSession] will be created."},{"type":"text","text":" "},{"type":"text","text":"[saveRefreshTokenCallback] : A function that will be called when a new refresh token is received from the server. The function should save the token for later use."},{"type":"text","text":" "},{"type":"text","text":"[loadRefreshTokenCallback] : A function that will be called when a new refresh token is needed to be sent to the server. The function should return the saved token."},{"type":"text","text":" "},{"type":"text","text":"[cacheEngine] : Fill the property to aumtomatically have a configurable local cache"},{"type":"text","text":" "},{"type":"text","text":"You can use the already provided [JsonCacheEngine] to have an already implemented cache."},{"type":"text","text":" "},{"type":"text","text":"Or you can create your own engine by extending [LocalDirectusCacheProtocol] an providing an instance of your engine in this property"}],"role":"symbol","fragments":[{"kind":"identifier","text":"init"},{"kind":"text","text":"("},{"kind":"externalParam","text":"baseURL"},{"kind":"text","text":": "},{"kind":"typeIdentifier","preciseIdentifier":"s:SS","text":"String"},{"kind":"text","text":", "},{"kind":"externalParam","text":"httpClient"},{"kind":"text","text":": "},{"kind":"typeIdentifier","preciseIdentifier":"c:objc(cs)NSURLSession","text":"URLSession"},{"kind":"text","text":", "},{"kind":"externalParam","text":"cacheEngine"},{"kind":"text","text":": "},{"kind":"typeIdentifier","preciseIdentifier":"s:11DirectusAPI05LocalA13CacheProtocolP","text":"LocalDirectusCacheProtocol"},{"kind":"text","text":"?, "},{"kind":"externalParam","text":"directusAPI"},{"kind":"text","text":": "},{"kind":"typeIdentifier","preciseIdentifier":"s:11DirectusAPI0A11APIProtocolP","text":"DirectusAPIProtocol"},{"kind":"text","text":"?, "},{"kind":"externalParam","text":"saveRefreshTokenCallback"},{"kind":"text","text":": (("},{"kind":"typeIdentifier","preciseIdentifier":"s:SS","text":"String"},{"kind":"text","text":") "},{"kind":"keyword","text":"async"},{"kind":"text","text":" -> "},{"kind":"typeIdentifier","preciseIdentifier":"s:s4Voida","text":"Void"},{"kind":"text","text":")?, "},{"kind":"externalParam","text":"loadRefreshTokenCallback"},{"kind":"text","text":": (() "},{"kind":"keyword","text":"async"},{"kind":"text","text":" -> "},{"kind":"typeIdentifier","preciseIdentifier":"s:SS","text":"String"},{"kind":"text","text":"?)?)"}]},"doc://directusapi.DirectusAPI/documentation/DirectusAPI":{"type":"topic","abstract":[],"role":"collection","kind":"symbol","identifier":"doc:\/\/directusapi.DirectusAPI\/documentation\/DirectusAPI","url":"\/documentation\/directusapi","title":"DirectusAPI"},"doc://directusapi.DirectusAPI/documentation/DirectusAPI/LocalDirectusCacheProtocol":{"url":"\/documentation\/directusapi\/localdirectuscacheprotocol","role":"symbol","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"LocalDirectusCacheProtocol"}],"title":"LocalDirectusCacheProtocol","kind":"symbol","type":"topic","abstract":[],"navigatorTitle":[{"kind":"identifier","text":"LocalDirectusCacheProtocol"}],"identifier":"doc:\/\/directusapi.DirectusAPI\/documentation\/DirectusAPI\/LocalDirectusCacheProtocol"},"doc://directusapi.DirectusAPI/documentation/DirectusAPI/DirectusAPIProtocol":{"abstract":[],"navigatorTitle":[{"kind":"identifier","text":"DirectusAPIProtocol"}],"url":"\/documentation\/directusapi\/directusapiprotocol","title":"DirectusAPIProtocol","type":"topic","identifier":"doc:\/\/directusapi.DirectusAPI\/documentation\/DirectusAPI\/DirectusAPIProtocol","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"DirectusAPIProtocol"}],"role":"symbol","kind":"symbol"},"doc://directusapi.DirectusAPI/documentation/DirectusAPI/DirectusApiManager":{"url":"\/documentation\/directusapi\/directusapimanager","kind":"symbol","title":"DirectusApiManager","role":"symbol","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"text":"DirectusApiManager","kind":"identifier"}],"identifier":"doc:\/\/directusapi.DirectusAPI\/documentation\/DirectusAPI\/DirectusApiManager","navigatorTitle":[{"text":"DirectusApiManager","kind":"identifier"}],"abstract":[],"type":"topic"}}}